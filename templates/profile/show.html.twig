{% extends 'base.html.twig' %}

{% block title %}User Profile
{% endblock %}

{% block body %}
	<div class="d-flex flex-column gap-4" style="padding: 0 4rem">
		<header class="d-flex align-items-center gap-4">
			<h1>User profile</h1>
			<button type="button" class="btn btn-primary" style="height: fit-content">
				<a href="{{ path('app_user_edit', {'id': user.id}) }}" class="text-light text-decoration-none">Edit</a>
			</button>
		</header>

		<div class="card p-4 w-100">
			<div class="d-flex align-items-center gap-3">
				<div class="rounded-circle overflow-hidden" style="width: 75px; height: 75px;">
					{% if user.avatar %}
						<img src="{{ asset('uploads/avatars/' ~ user.avatar) }}" alt="Avatar de {{ user.email }}" class="object-fit-cover" style="width: 100%; height: 100%;">
					{% else %}
						<div style="background: #ccc; width: 100%; height: 100%;"></div>
					{% endif %}
				</div>

				<h1 class="card-title fs-3">{{ user.email }}</h1>
			</div>

			<div class="card-body mt-4">
				<div>
					<strong class="fs-5">Articles</strong>
					<ul>
						{% if articles is not empty %}
							{% for article in articles %}
								<li>
									<a href="{{ path('app_articles_show', {'id': article.id}) }}" class="text-decoration-none">
										{{ article.title }}
									</a>
								</li>
							{% endfor %}
						{% else %}
							<p>No articles found.</p>
						{% endif %}
					</ul>
				</div>

				<div>
					<strong class="fs-5">Comments</strong>
					<ul>
						{% if comments is not empty %}
							{% for comment in comments %}
								<li>{{ comment.content}}</li>
							{% endfor %}
						{% else %}
							<p>No comments found.</p>
						{% endif %}
					</ul>
				</div>
			</div>
		</div>
	</div>

	<div style="padding: 0 4rem" class="mt-4">
		<button type="button" class="btn btn-primary">
			<a href="{{ path('app_user_edit', {'id': user.id}) }}" class="text-light text-decoration-none">Back to list</a>
		</button>
	</div>
</div>{% endblock %}
